(defpoll workspace_json :initial "[]" :interval "0.5s"
"swaymsg -t get_workspaces -r")



(defwidget workspaces []
  (box :class "workspaces"
    :orientation "h"
    :space-evenly false 
    (for ws in workspace_json
      (button  :onclick "swaymsg workspace ${ws.name}"
        :class "workspace ${ws.focused ? 'active': ''}"
        (overlay
       ;  (image :class "icon" :path {ws.icon} :image-height "28")
          (label :class "number" :text {ws.name})
        )
      )
    )
  )
)



